/* jdf-1.0.0/ notif.js Date:2017-02-16 10:27:34 */
define("//localhost:8103/js/notif.js",["//localhost:8103/js/login.js","//localhost:8103/js/dialog.js"],function(require){var c=require("//localhost:8103/js/login.js");require("//localhost:8103/js/dialog.js");function e(a){a=$.extend({el:null,autoIframe:!0,saleNotify:"//skunotify.jd.com/pricenotify.html?",stockNotify:"//skunotify.jd.com/storenotify.html?"},a||{});var f,d=g(location.href),e=/from=weibo/.test(location.href)?location.search.replace(/\?/,""):"";/from=weibo/.test(location.href)&&(f=d.param.type,h(f,e)),a.el&&a.el.live("click",function(){var d=($(this).attr("id"),$(this).attr("data-type")||2),f=$(this).attr("data-sku");return c({modal:!0,complete:function(a){h(f,d,e,a.Identity.Name)}}),!1}).attr("href","#none").removeAttr("target");function g(a){var g,i,j,k,b=a.indexOf("?"),c=a.substr(0,b),d=a.substr(b+1),e=d.split("&"),f=e.length,h={};for(g=0;f>g;g++)i=e[g].split("="),j=i[0],k=i[1],h[j]=k;return{url:c,param:h}}function h(b,c,d,e){var f,h,j,k={skuId:b,pin:encodeURI(e),webSite:1,origin:1,source:1},l=g(location.href);/blogPin/.test(location.href)&&(k.blogPin=l.param.blogPin),1==c&&(f="\u964d\u4ef7\u901a\u77e5",h=a.saleNotify,j=/.jd.hk$/.test(location.host)?360:490),2==c&&(f="\u5230\u8d27\u901a\u77e5",h=a.stockNotify,j=/.jd.hk$/.test(location.host)?315:445,k.storeAddressId=readCookie("ipLoc-djd")||"0-0-0"),h+=d?d:$.param(k),$("body").dialog({title:f,width:500,height:j,type:"iframe",fixed:!0,source:decodeURIComponent(h)+"&nocache="+ +new Date,mainId:"notify_box",contentId:"notify_con",titleId:"notify_title",autoIframe:a.autoIframe})}}return e});
