/* jdf-1.0.0/ tips.js Date:2017-02-09 17:08:54 */
!function(a){a.ui.define("tips",{options:{sourceTrigger:null,trigger:null,hasCssLink:!0,baseVersion:"1.0.0",cssLinkVersion:"1.0.0",tipsClass:"ui-tips",type:"hover",align:["top","left"],isFixedToBody:!1,autoWindow:!0,autoResize:!0,hasArrow:!0,hasClose:!0,closeName:null,currClass:"",zIndex:100,onClose:null,diff:8,width:null,height:null,isAdjustPosition:!1,source:"",mouseenterHideAll:!0,mouseleaveDelayTime:500,mouseenterDelayTime:0,callback:function(){}},init:function(){var b=this;var c=this.options;if(this._create(),this.bindTag=!0,a(document).click(function(c){var d=c.target;var e=b.options.trigger?b.el.find(b.options.trigger):b.el;a(d).is(e)||a(d).parents().is(e)||a(d).is(".ui-tips")||a(d).parents(".ui-tips").is(".ui-tips")||!a(".ui-tips:visible").length||b.hide()}),"fixed"==c.type){var d=b.options.trigger?b.el.find(b.options.trigger):b.el;this.setInit(d)}if("hover"==c.type){var e=function(){clearTimeout(b.mouseleave)};var f=function(){b.mouseleave=setTimeout(function(){b.hide()},c.mouseleaveDelayTime)};var g=function(){var d=a(this);clearTimeout(b.mouseenter),e(),b.mouseenter=setTimeout(function(){b.hideAll(),b.setInit(d)},c.mouseenterDelayTime)};b.options.trigger?(b.el.delegate(c.trigger,"mouseenter",g),b.el.delegate(c.trigger,"mouseleave",f)):(b.el.bind("mouseenter",g),b.el.bind("mouseleave",f)),b.tips.bind("mouseenter",e),b.tips.bind("mouseleave",f)}if("click"==c.type){var h=function(){b.setInit(a(this))};b.options.trigger?b.el.delegate(c.trigger,"mouseup",h):b.el.bind("mouseup",h)}},showBindEvent:function(b){var c=b.data;var d=b.target;var e=c.options.trigger?c.el.find(c.options.trigger):c.el;a(d).is(e)||a(d).parents().is(e)||a(d).is(".ui-tips")||a(d).parents(".ui-tips").is(".ui-tips")||!a(".ui-tips:visible").length||c.hide()},show:function(){var b=this;var c=b.options;a(b.tips).appendTo("fixed"!=c.type||c.isFixedToBody?"body":b.el),b.el.addClass(c.currClass)},hide:function(){a(this.tips).detach(),this.el.removeClass(this.options.currClass),this.options.onClose&&this.options.onClose.call(null,this.el,this.tips)},hideAll:function(){this.options.mouseenterHideAll&&a(".ui-tips").detach()},setInit:function(b){var c=this;var d=c.options;var e="";var f=d.source;var g=d.sourceTrigger;c.curEl=b,e=g?a(g).html():f?f:b.attr("data-tips"),e&&(c.tips.css({top:"-9999px",left:"-9999px"}).find(".ui-tips-main").html(e),c.show(),c.update(b),d.height&&d.width||c.update(b),c.bindTag&&c.bind(),d.callback.call(c.tips.find(".ui-tips-main"),b,c.tips))},bind:function(){var b=this;var c=b.options;if(b.tips.find(".ui-tips-close").bind("click",function(){b.hide()}),a(b.tips.find(c.closeName)).live("click",function(){b.hide()}),c.autoResize){var d=-1;function e(){clearTimeout(d),d=setTimeout(function(){b.curEl&&b.curEl.length&&b.tips.is(":visible")&&b.curEl.each(function(){b.update(a(this))})},50)}a(window).bind("resize",e),a(window).scroll(e)}this.bindTag=!1},_create:function(){var b=this.options;var c="";var d=b.zIndex+this.guid;b.hasArrow&&(c='<span class="ui-tips-arrow" style="z-index:'+d+'"></span>');var e="";this.options.hasClose&&(e='<span class="ui-tips-close" style="z-index:'+d+'">x</span>');var f=['<div class="ui-tips '+b.tipsClass+' ui-tips-top" style="z-index:'+d+'" id="uis-tips-'+this.guid+'">','	<div class="ui-tips-main">',"	</div>",c,e,"</div>"].join("");this.tips=a(f),this.bindTag=!0},update:function(a){var b=this.options;this.align(b.align[0],b.align[1],a)},align:function(b,c,d){var e=this.options;var f=e.diff;var g=a.page.clientWidth();var h=d.offset();var i=d.outerWidth(!0);var j=d.outerHeight(!0);var k=h.top;var l=h.left;var m=this.tips;var n="ui-tips ui-tips-top";var o=e.width||m.outerWidth();var p=e.height||m.outerHeight();e.isAdjustPosition&&(o=Math.max(e.width,m.outerWidth())),-1!=a.inArray(b,["top","bottom","left","right"])&&(n="ui-tips ui-tips-"+b),-1!=a.inArray(c,["top","bottom","left","right","center"])&&(("top"==b||"bottom"==b)&&(l+o>g&&e.autoWindow&&(c="right"),o>l&&e.autoWindow&&(c="left"),k-p-f<a(document).scrollTop()&&e.autoWindow&&(b="top",n="ui-tips ui-tips-"+b),k+p+j+f>a(document).scrollTop()+a.page.clientHeight()&&e.autoWindow&&(b="bottom",n="ui-tips ui-tips-"+b),n+=" ui-tips-x-"+c,"top"==b&&(k=k+j+f),"bottom"==b&&(k=k-p-f),"left"==c&&(l=l),"center"==c&&(l=l-o/2+i/2),"right"==c&&(e.isAdjustPosition?l=l+i-o:l-=o)),("left"==b||"right"==b)&&(l+o+i+f>g&&e.autoWindow&&(b="right",n="ui-tips ui-tips-"+b),o>l&&e.autoWindow&&(b="left",n="ui-tips ui-tips-"+b),k-p+j+f<a(document).scrollTop()&&e.autoWindow&&(c="top"),k+p-f>a(document).scrollTop()+a.page.clientHeight()&&e.autoWindow&&(c="bottom"),n+=" ui-tips-y-"+c,"left"==b&&(l=l+i+2*f),"right"==b&&(l=l-o-f),"top"==c&&(k=k-j+f),"center"==c&&(k+=(j-p)/2),"bottom"==c&&(k=k-p+j/2+2*f))),"ui-tips"!=this.options.tipsClass&&(n+=" "+this.options.tipsClass),m.attr("class",n),m.css({top:k,left:l}),e.width&&m.css({width:e.width})}})}(jQuery);